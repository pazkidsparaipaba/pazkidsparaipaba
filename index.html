<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paz Kids</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.0/build/qrcode.min.js"></script>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden; /* Evita rolagem indesejada */
        }
        .background-image {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            z-index: -1; /* Coloca o fundo atrás do conteúdo */
            background-image: url('data:image/jpeg;base64,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');
        }
        .container {
            background-color: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            max-width: 900px;
            width: 100%;
            z-index: 1; /* Garante que o container fique acima do fundo */
            position: relative;
        }
        h1 {
            text-align: center;
            color: #007bff;
            margin-bottom: 20px;
        }
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }
        .tab-btn {
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.3s;
        }
        .tab-btn:hover {
            background-color: #0056b3;
        }
        .tab-btn.active {
            background-color: #28a745;
        }
        #admin-section, #parent-section {
            display: none;
        }
        #admin-section.active, #parent-section.active {
            display: block;
        }
        #add-child {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }
        input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            min-width: 150px;
        }
        button {
            padding: 10px 15px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.3s;
        }
        button:hover {
            background-color: #218838;
        }
        .child-entry {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #f9f9f9;
            transition: transform 0.2s;
        }
        .child-entry:hover {
            transform: scale(1.02);
        }
        .child-number {
            font-weight: bold;
            flex: 1;
        }
        .status-indicator {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
        }
        .green { background-color: #28a745; }
        .red { background-color: #dc3545; }
        .action-btn {
            background-color: #ffc107;
            margin-left: 5px;
        }
        .action-btn:hover {
            background-color: #e0a800;
        }
        .delete-btn {
            background-color: #dc3545;
        }
        .delete-btn:hover {
            background-color: #c82333;
        }
        #announcement {
            margin-top: 20px;
            padding: 15px;
            background-color: #fff3cd;
            border: 1px solid #ffeeba;
            border-radius: 8px;
            text-align: center;
            font-size: 1.1em;
            color: #856404;
        }
        #search-input {
            margin-bottom: 20px;
            width: 100%;
            padding: 10px;
            border-radius: 6px;
            border: 1px solid #ddd;
        }
        #parent-status {
            text-align: center;
        }
        #parent-status .status-indicator {
            width: 100px;
            height: 100px;
            margin: 20px auto;
        }
        #qr-code {
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Paz Kids</h1>
        <div class="tabs">
            <button class="tab-btn active" onclick="showSection('admin')">Modo Líder</button>
            <button class="tab-btn" onclick="showSection('parent')">Modo Pais</button>
        </div>
        <div id="admin-section" class="active">
            <input id="search-input" type="text" placeholder="Buscar por número ou nome..." oninput="searchChildren()">
            <div id="add-child">
                <input type="text" id="child-name" placeholder="Nome da Criança (opcional)">
                <input type="text" id="parent-name" placeholder="Nome do Pai/Mãe (opcional)">
                <button onclick="addChild()">Adicionar Criança</button>
            </div>
            <div id="dashboard"></div>
            <div id="announcement"></div>
        </div>
        <div id="parent-section">
            <input id="parent-number" type="number" placeholder="Digite o número da criança" min="1">
            <button onclick="loadParentStatus()">Ver Status</button>
            <div id="parent-status">
                <div id="status-indicator" class="status-indicator green"></div>
                <p id="status-message">Digite o número para ver o status.</p>
            </div>
        </div>
    </div>

    <script>
        const supabaseUrl = 'https://uovokgqsgtrmxecqtvcv.supabase.co';
        const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVvdm9rZ3FzZ3RybXhlY3F0dmN2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcwODYzODEsImV4cCI6MjA3MjY2MjM4MX0.-P_5JOr0TpmvSToIxetk9ImNLFL5hfCVpczQYFWiDZ4';
        const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);
        let childrenData = [];
        let currentNumber = null;

        // Alterna entre abas
        function showSection(section) {
            document.getElementById('admin-section').classList.remove('active');
            document.getElementById('parent-section').classList.remove('active');
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`${section}-section`).classList.add('active');
            document.querySelector(`[onclick="showSection('${section}')"]`).classList.add('active');
            if (section === 'parent') {
                const urlParams = new URLSearchParams(window.location.search);
                const number = urlParams.get('number');
                if (number) {
                    document.getElementById('parent-number').value = number;
                    loadParentStatus();
                }
            } else {
                loadChildren();
            }
        }

        // Admin: Carrega crianças
        async function loadChildren() {
            try {
                const { data, error } = await supabase.from('children').select('*').order('number', { ascending: true });
                if (error) {
                    console.error('Erro ao carregar crianças:', error);
                    alert(`Erro ao carregar crianças: ${error.message}`);
                    return;
                }
                childrenData = data || [];
                renderDashboard(childrenData);
            } catch (err) {
                console.error('Erro inesperado:', err);
                alert('Erro inesperado ao carregar crianças.');
            }
        }

        // Admin: Adiciona criança
        async function addChild() {
            try {
                const childName = document.getElementById('child-name').value.trim();
                const parentName = document.getElementById('parent-name').value.trim();
                const { data: maxData, error: maxError } = await supabase.from('children').select('number').order('number', { ascending: false }).limit(1);
                if (maxError) {
                    console.error('Erro ao obter próximo número:', maxError);
                    alert(`Erro ao obter próximo número: ${maxError.message}`);
                    return;
                }
                const nextNumber = maxData.length > 0 ? maxData[0].number + 1 : 1;
                const { error } = await supabase.from('children').insert([{ number: nextNumber, child_name: childName || null, parent_name: parentName || null, status: 'green' }]);
                if (error) {
                    console.error('Erro ao adicionar criança:', error);
                    alert(`Erro ao adicionar criança: ${error.message}`);
                    return;
                }
                document.getElementById('child-name').value = '';
                document.getElementById('parent-name').value = '';
                loadChildren();
                const parentUrl = `${window.location.origin}/?number=${nextNumber}`;
                const qrDiv = document.createElement('div');
                qrDiv.id = 'qr-code';
                document.getElementById('add-child').appendChild(qrDiv);
                QRCode.toCanvas(qrDiv, parentUrl, { width: 100 }, (err) => { if (err) console.error('Erro ao gerar QR code:', err); });
                alert(`Criança adicionada! Número: ${nextNumber}. Link para pais: ${parentUrl}`);
                setTimeout(() => qrDiv.remove(), 10000);
            } catch (err) {
                console.error('Erro inesperado:', err);
                alert('Erro inesperado ao adicionar criança.');
            }
        }

        // Admin: Toggle status
        async function toggleStatus(id, currentStatus) {
            try {
                // Verificar se o ID existe
                const { data: child, error: fetchError } = await supabase.from('children').select('id').eq('id', id).single();
                if (fetchError || !child) {
                    console.error('Erro: ID não encontrado ou erro na busca:', fetchError);
                    alert('Erro: Criança não encontrada.');
                    return;
                }
                const newStatus = currentStatus === 'green' ? 'red' : 'green';
                const { error } = await supabase.from('children').update({ status: newStatus }).eq('id', id);
                if (error) {
                    console.error('Erro ao atualizar status:', error);
                    alert(`Erro ao atualizar status: ${error.message}`);
                    return;
                }
                console.log(`Status atualizado para ${newStatus} para id ${id}`);
            } catch (err) {
                console.error('Erro inesperado:', err);
                alert('Erro inesperado ao atualizar status.');
            }
        }

        // Admin: Remover criança
        async function removeChild(id) {
            if (confirm('Confirmar check-out da criança?')) {
                try {
                    const { error } = await supabase.from('children').delete().eq('id', id);
                    if (error) {
                        console.error('Erro ao remover criança:', error);
                        alert(`Erro ao remover criança: ${error.message}`);
                        return;
                    }
                    loadChildren();
                } catch (err) {
                    console.error('Erro inesperado:', err);
                    alert('Erro inesperado ao remover criança.');
                }
            }
        }

        // Admin: Editar nomes
        async function editNames(id, childName, parentName) {
            try {
                const newChildName = prompt('Novo nome da criança:', childName);
                const newParentName = prompt('Novo nome do pai/mãe:', parentName);
                if (newChildName !== null && newParentName !== null) {
                    const { error } = await supabase.from('children').update({ child_name: newChildName || null, parent_name: newParentName || null }).eq('id', id);
                    if (error) {
                        console.error('Erro ao editar nomes:', error);
                        alert(`Erro ao editar nomes: ${error.message}`);
                        return;
                    }
                    loadChildren();
                }
            } catch (err) {
                console.error('Erro inesperado:', err);
                alert('Erro inesperado ao editar nomes.');
            }
        }

        // Admin: Render dashboard
        function renderDashboard(data) {
            const dashboard = document.getElementById('dashboard');
            dashboard.innerHTML = '';
            let needsParent = [];
            data.forEach(child => {
                const entry = document.createElement('div');
                entry.classList.add('child-entry');
                const numSpan = document.createElement('span');
                numSpan.classList.add('child-number');
                numSpan.textContent = `${child.number}: ${child.child_name || 'Sem nome'} (criança) - ${child.parent_name || 'Sem nome'} (pai)`;
                const indicator = document.createElement('div');
                indicator.classList.add('status-indicator', child.status);
                const toggleBtn = document.createElement('button');
                toggleBtn.textContent = child.status === 'green' ? 'Precisa do Pai' : 'Marcar OK';
                toggleBtn.onclick = () => toggleStatus(child.id, child.status);
                const editBtn = document.createElement('button');
                editBtn.classList.add('action-btn');
                editBtn.textContent = 'Editar Nomes';
                editBtn.onclick = () => editNames(child.id, child.child_name, child.parent_name);
                const deleteBtn = document.createElement('button');
                deleteBtn.classList.add('delete-btn');
                deleteBtn.textContent = 'Check-out';
                deleteBtn.onclick = () => removeChild(child.id);
                entry.appendChild(numSpan);
                entry.appendChild(indicator);
                entry.appendChild(toggleBtn);
                entry.appendChild(editBtn);
                entry.appendChild(deleteBtn);
                dashboard.appendChild(entry);
                if (child.status === 'red') {
                    needsParent.push(`${child.number} ${child.child_name ? `(${child.child_name})` : ''}`);
                }
            });
            const announcement = document.getElementById('announcement');
            announcement.textContent = needsParent.length > 0 ? `Crianças que precisam dos pais: ${needsParent.join(', ')}` : 'Todas as crianças estão bem!';
        }

        // Admin: Busca
        function searchChildren() {
            const query = document.getElementById('search-input').value.toLowerCase();
            const filtered = childrenData.filter(child => 
                child.number.toString().includes(query) || 
                (child.child_name && child.child_name.toLowerCase().includes(query)) || 
                (child.parent_name && child.parent_name.toLowerCase().includes(query))
            );
            renderDashboard(filtered);
        }

        // Parent: Carrega status
        async function loadParentStatus() {
            try {
                const number = document.getElementById('parent-number').value;
                if (!number) return alert('Digite o número da criança.');
                currentNumber = number;
                const { data, error } = await supabase.from('children').select('status').eq('number', number).single();
                if (error) {
                    console.error('Erro ao carregar status:', error);
                    alert(`Erro ao carregar status: ${error.message}`);
                    return;
                }
                if (data) {
                    updateParentStatus(data.status);
                    supabase.channel(`child-${number}`).on('postgres_changes', { event: 'UPDATE', schema: 'public', table: 'children', filter: `number=eq.${number}` }, (payload) => updateParentStatus(payload.new.status)).subscribe();
                } else {
                    alert('Número não encontrado.');
                }
            } catch (err) {
                console.error('Erro inesperado:', err);
                alert('Erro inesperado ao carregar status.');
            }
        }

        // Parent: Atualiza UI
        function updateParentStatus(status) {
            const indicator = document.getElementById('status-indicator');
            indicator.classList.remove('green', 'red');
            indicator.classList.add(status);
            document.getElementById('status-message').textContent = status === 'green' ? 'Tudo bem com sua criança!' : 'Sua criança precisa de você agora!';
        }

        // Inicia
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.get('number')) {
            showSection('parent');
        } else {
            loadChildren();
            supabase.channel('children').on('postgres_changes', { event: '*', schema: 'public', table: 'children' }, loadChildren).subscribe();
        }
    </script>
</body>
</html>
